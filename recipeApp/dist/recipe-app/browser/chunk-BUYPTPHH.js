import{b as u}from"./chunk-GHHRZ5QT.js";import{a as d}from"./chunk-ZYCDTQGM.js";import{C as r,a as p,b as n,f as o,j as h,o as a,oa as f,y as c}from"./chunk-XCSCIBJ5.js";var m=(()=>{let i=class i{constructor(e){this.sls=e,this.recipesChanged=new o,this.recipes=[]}getRecipes(){return this.recipes.slice()}addIngredientsToShopping(e){this.sls.addIngredients(e)}getRecipe(e){return this.recipes[e]}addRecipe(e){this.recipes.push(e),this.recipesChanged.next(this.recipes.slice())}updateRecipe(e,t){this.recipes[e]=t,this.recipesChanged.next(this.recipes.slice())}deleteRecipe(e){this.recipes.splice(e,1),this.recipesChanged.next(this.recipes.slice())}setRecipes(e){this.recipes=e,this.recipesChanged.next(this.recipes.slice())}};i.\u0275fac=function(t){return new(t||i)(r(u))},i.\u0275prov=c({token:i,factory:i.\u0275fac});let s=i;return s})();var x=(()=>{let i=class i{constructor(e,t,l){this.http=e,this.recipeService=t,this.authService=l}storeRecipes(){let e=this.recipeService.getRecipes();return this.http.put("https://ng-course-recipe-book-19f98-default-rtdb.firebaseio.com/recipes.json",e).subscribe(t=>{console.log(t)})}fetchRecipes(){return this.http.get("https://ng-course-recipe-book-19f98-default-rtdb.firebaseio.com/recipes.json").pipe(h(e=>e.map(t=>n(p({},t),{ingredients:t.ingredients?t.ingredients:[]}))),a(e=>{this.recipeService.setRecipes(e)}))}};i.\u0275fac=function(t){return new(t||i)(r(f),r(m),r(d))},i.\u0275prov=c({token:i,factory:i.\u0275fac,providedIn:"root"});let s=i;return s})();export{m as a,x as b};
